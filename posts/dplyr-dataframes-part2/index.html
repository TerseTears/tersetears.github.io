<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>dplyr Cheatsheet to DataFrames.jl Page 2 | TerseTears&#39;s Blog</title>
<meta name="keywords" content="julia, R" />
<meta name="description" content="Continuing Where We Left This post shows how to translate the second page of the dplyr cheatsheet to DataFrames.jl and Julia commnads.
using RDatasets, RCall, DataFrames, StatsBase, Statistics R&#34;library(tidyverse)&#34;; Setting up the data using RCall mpg = dataset(&#34;ggplot2&#34;, &#34;mpg&#34;); Vectorized Functions lag, lead julia&gt; R&#34;&#34;&#34; mutate(mpg, leadyear = lead(year)) %&gt;% select(year, leadyear) %&gt;% tail &#34;&#34;&#34; RObject{VecSxp} # A tibble: 6 x 2 year leadyear &lt;int&gt; &lt;int&gt; 1 1999 2008 2 2008 2008 3 2008 1999 4 1999 1999 5 1999 2008 6 2008 NA In Julia:">
<meta name="author" content="">
<link rel="canonical" href="http://tersetears.github.io/posts/dplyr-dataframes-part2/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css" integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://tersetears.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://tersetears.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://tersetears.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://tersetears.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://tersetears.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.88.1" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js" integrity="sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<meta property="og:title" content="dplyr Cheatsheet to DataFrames.jl Page 2" />
<meta property="og:description" content="Continuing Where We Left This post shows how to translate the second page of the dplyr cheatsheet to DataFrames.jl and Julia commnads.
using RDatasets, RCall, DataFrames, StatsBase, Statistics R&#34;library(tidyverse)&#34;; Setting up the data using RCall mpg = dataset(&#34;ggplot2&#34;, &#34;mpg&#34;); Vectorized Functions lag, lead julia&gt; R&#34;&#34;&#34; mutate(mpg, leadyear = lead(year)) %&gt;% select(year, leadyear) %&gt;% tail &#34;&#34;&#34; RObject{VecSxp} # A tibble: 6 x 2 year leadyear &lt;int&gt; &lt;int&gt; 1 1999 2008 2 2008 2008 3 2008 1999 4 1999 1999 5 1999 2008 6 2008 NA In Julia:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://tersetears.github.io/posts/dplyr-dataframes-part2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-13T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-11-13T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="dplyr Cheatsheet to DataFrames.jl Page 2"/>
<meta name="twitter:description" content="Continuing Where We Left This post shows how to translate the second page of the dplyr cheatsheet to DataFrames.jl and Julia commnads.
using RDatasets, RCall, DataFrames, StatsBase, Statistics R&#34;library(tidyverse)&#34;; Setting up the data using RCall mpg = dataset(&#34;ggplot2&#34;, &#34;mpg&#34;); Vectorized Functions lag, lead julia&gt; R&#34;&#34;&#34; mutate(mpg, leadyear = lead(year)) %&gt;% select(year, leadyear) %&gt;% tail &#34;&#34;&#34; RObject{VecSxp} # A tibble: 6 x 2 year leadyear &lt;int&gt; &lt;int&gt; 1 1999 2008 2 2008 2008 3 2008 1999 4 1999 1999 5 1999 2008 6 2008 NA In Julia:"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://tersetears.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "dplyr Cheatsheet to DataFrames.jl Page 2",
      "item": "http://tersetears.github.io/posts/dplyr-dataframes-part2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "dplyr Cheatsheet to DataFrames.jl Page 2",
  "name": "dplyr Cheatsheet to DataFrames.jl Page 2",
  "description": "Continuing Where We Left This post shows how to translate the second page of the dplyr cheatsheet to DataFrames.jl and Julia commnads.\nusing RDatasets, RCall, DataFrames, StatsBase, Statistics R\u0026#34;library(tidyverse)\u0026#34;; Setting up the data using RCall mpg = dataset(\u0026#34;ggplot2\u0026#34;, \u0026#34;mpg\u0026#34;); Vectorized Functions lag, lead julia\u0026gt; R\u0026#34;\u0026#34;\u0026#34; mutate(mpg, leadyear = lead(year)) %\u0026gt;% select(year, leadyear) %\u0026gt;% tail \u0026#34;\u0026#34;\u0026#34; RObject{VecSxp} # A tibble: 6 x 2 year leadyear \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; 1 1999 2008 2 2008 2008 3 2008 1999 4 1999 1999 5 1999 2008 6 2008 NA In Julia:",
  "keywords": [
    "julia", "R"
  ],
  "articleBody": "Continuing Where We Left This post shows how to translate the second page of the dplyr cheatsheet to DataFrames.jl and Julia commnads.\nusing RDatasets, RCall, DataFrames, StatsBase, Statistics R\"library(tidyverse)\"; Setting up the data using RCall mpg = dataset(\"ggplot2\", \"mpg\"); Vectorized Functions lag, lead julia R\"\"\" mutate(mpg, leadyear = lead(year)) %% select(year, leadyear) %% tail \"\"\" RObject{VecSxp} # A tibble: 6 x 2 year leadyear int int 1 1999 2008 2 2008 2008 3 2008 1999 4 1999 1999 5 1999 2008 6 2008 NA In Julia:\njulia transform(mpg, :Year = (x-vcat(x[2:end], missing)) = :leadYear)[ :, [:Year, :leadYear]] | x-last(x, 10) 10×2 DataFrame Row │ Year leadYear │ Int32 Int32? ─────┼───────────────── 1 │ 1999 2008 2 │ 2008 2008 3 │ 2008 1999 4 │ 1999 1999 5 │ 1999 2008 6 │ 2008 2008 7 │ 2008 1999 8 │ 1999 1999 9 │ 1999 2008 10 │ 2008 missing Note that one needs to wrap the anonymous function inside parentheses to avoid mixing with the = operator.\ncumall This function returns always false from the first false value it sees. For example:\njulia R\"\"\" x cumall(x \"\"\" RObject{LglSxp} [1] TRUE TRUE TRUE FALSE FALSE FALSE FALSE FALSE This is just a commulative product for logical values:\njulia x = [1, 3, 5, 9, 4, 3, 2, 2]; julia cumprod(x . 6)' 1×8 adjoint(::BitVector) with eltype Bool: 1 1 1 0 0 0 0 0 cumany This one returns true from the first true it sees:\njulia R\"\"\" cumany(x  6) \"\"\" RObject{LglSxp} [1] FALSE FALSE FALSE TRUE TRUE TRUE TRUE TRUE It would be equivalent to a logical sum:\njulia cumsum(x . 6)' 1×8 adjoint(::Vector{Int64}) with eltype Int64: 0 0 0 1 1 1 1 1 cummax This just takes binary comparisons between the present element and its previous element:\njulia R\"cummax(x)\" RObject{RealSxp} [1] 1 3 5 9 9 9 9 9 It is easy with the more general function accumulate in Julia:\njulia accumulate(max, x)' 1×8 adjoint(::Vector{Int64}) with eltype Int64: 1 3 5 9 9 9 9 9 One could have in fact used this function with the previous examples as well by writing the appropriate anonymous function. Other functions such as mean, max etc. follow the same rule.\nRank functions julia R\"cume_dist(x)\" RObject{RealSxp} [1] 0.125 0.625 0.875 1.000 0.750 0.625 0.375 0.375 It is just the values of the empirical cdf:\njulia ecdf(x)(x)' 1×8 adjoint(::Vector{Float64}) with eltype Float64: 0.125 0.625 0.875 1.0 0.75 0.625 0.375 0.375 julia R\"dense_rank(x)\" RObject{IntSxp} [1] 1 3 5 6 4 3 2 2 julia denserank(x)' 1×8 adjoint(::Vector{Int64}) with eltype Int64: 1 3 5 6 4 3 2 2 julia R\"min_rank(x)\" RObject{IntSxp} [1] 1 4 7 8 6 4 2 2 Julia equivalent is the competerank:\njulia competerank(x)' 1×8 adjoint(::Vector{Int64}) with eltype Int64: 1 4 7 8 6 4 2 2 TODO The dplyr ntile function seems rather unstandard and so the results differ from Julia:\njulia R\"ntile(x, 3)\" RObject{IntSxp} [1] 1 2 3 3 2 2 1 1 julia searchsortedfirst.(Ref(nquantile(x,2)), x)' 1×8 adjoint(::Vector{Int64}) with eltype Int64: 1 2 3 3 3 2 2 2 As for percen_rank it is just a normalization to the 0-1 interval, hence requires subtracting 1 first:\njulia R\"percent_rank(x)\" RObject{RealSxp} [1] 0.0000000 0.4285714 0.8571429 1.0000000 0.7142857 0.4285714 0.1428571 [8] 0.1428571 julia ((competerank(x).-1)/(length(x)-1))' 1×8 adjoint(::Vector{Float64}) with eltype Float64: 0.0 0.428571 0.857143 1.0 0.714286 0.428571 0.142857 0.142857 As for row_number rank:\njulia R\"row_number(x)\" RObject{IntSxp} [1] 1 4 7 8 6 5 2 3 julia ordinalrank(x)' 1×8 adjoint(::Vector{Int64}) with eltype Int64: 1 4 7 8 6 5 2 3 between Julia simply understands the between notion in a mathematical notation:\njulia R\"between(x, 3, 6)\" RObject{LglSxp} [1] FALSE TRUE TRUE FALSE TRUE TRUE FALSE FALSE julia (3 . x . 6)' 1×8 adjoint(::BitVector) with eltype Bool: 0 1 1 0 1 1 0 0 near Use the approximate notation (or the isapprox function):\njulia R\"near(2, 1.9999999999)\" RObject{LglSxp} [1] TRUE julia 2 ≈ 1.9999999999 true case_when Julia doesn’t have a syntax for cases yet. The shortest equivalent that comes to mind is as follows:\njulia R\"\"\" case_when(x  3 \u0026 x x x = 5 ~ \"large\", TRUE ~ \"unknown\") \"\"\" RObject{StrSxp} [1] \"small\" \"small\" \"large\" \"large\" \"medium\" \"small\" \"small\" \"small\" julia map(x) do x_ if (3  x_  5) \"medium\" elseif (x_  3) \"small\" elseif (5  x_) \"large\" else \"unknown\" end end 8-element Vector{String}: \"small\" \"small\" \"large\" \"large\" \"medium\" \"small\" \"small\" \"small\" coalesce Both functions are inspired by the SQL command and so work nearly identically:\njulia R\"\"\" y z coalesce(y,z) \"\"\" RObject{RealSxp} [1] 3 2 5 9 6 julia y = [missing, 2, 5, missing, 6]; julia z = [3, 7, missing, 9, 4]; julia coalesce.(y, z)' 1×5 adjoint(::Vector{Int64}) with eltype Int64: 3 2 5 9 6 It is important to note that vectorizing coalesce (i.e. the dot) is necessary. Otherwise, since the y vector isn’t missing, nothing happens.\nif_else The julia equivalent is the vectorized ifelse:\njulia R\"\"\" if_else(x  3, \"large\", \"small\") \"\"\" RObject{StrSxp} [1] \"small\" \"small\" \"large\" \"large\" \"large\" \"small\" \"small\" \"small\" julia ifelse.(x . 3, \"large\", \"small\") 8-element Vector{String}: \"small\" \"small\" \"large\" \"large\" \"large\" \"small\" \"small\" \"small\" na_if Simply use the more general functions in Julia:\njulia R\"na_if(x, 9)\" RObject{RealSxp} [1] 1 3 5 NA 4 3 2 2 julia replace(x, 9=missing)' 1×8 adjoint(::Vector{Union{Missing, Int64}}) with eltype Union{Missing, Int64}: 1 3 5 missing 4 3 2 2 pmax and pmin julia R\"pmax(y,z)\" RObject{RealSxp} [1] NA 7 NA NA 6 julia max.(y,z)' 1×5 adjoint(::Vector{Union{Missing, Int64}}) with eltype Union{Missing, Int64}: missing 7 missing missing 6 recode Again, simply using the more general function replace:\njulia R\"\"\" cvec recode(cvec, a = \"apple\") \"\"\" RObject{StrSxp} [1] \"apple\" \"b\" \"apple\" \"c\" \"b\" \"apple\" \"c\" julia cvec = [\"a\", \"b\", \"a\", \"c\", \"b\", \"a\", \"c\"]; julia replace(cvec, \"a\"=\"apple\") 7-element Vector{String}: \"apple\" \"b\" \"apple\" \"c\" \"b\" \"apple\" \"c\" Summary Functions Back to dataframes where summary functions are better illustrated.\nn() julia R\"mpg %% group_by(cyl) %% summarise(n=n())\" RObject{VecSxp} # A tibble: 4 x 2 cyl n int int 1 4 81 2 5 4 3 6 79 4 8 70 julia groupby(mpg, :Cyl) | x-combine(x, nrow) 4×2 DataFrame Row │ Cyl nrow │ Int32 Int64 ─────┼────────────── 1 │ 4 81 2 │ 5 4 3 │ 6 79 4 │ 8 70 n_distinct julia R\"mpg %% group_by(cyl) %% summarise(trans=n_distinct(trans))\" RObject{VecSxp} # A tibble: 4 x 2 cyl trans int int 1 4 9 2 5 2 3 6 8 4 8 8 julia groupby(mpg, :Cyl) | x-combine(x, :Trans = (x_-length(unique(x_))) = :Trans) 4×2 DataFrame Row │ Cyl Trans │ Int32 Int64 ─────┼────────────── 1 │ 4 9 2 │ 5 2 3 │ 6 8 4 │ 8 8 Alternatively, one could just composition the two inner functions instead (use \\circ to write the operator):\njulia groupby(mpg, :Cyl) | x-combine(x, :Trans = length ∘ unique = :Trans) 4×2 DataFrame Row │ Cyl Trans │ Int32 Int64 ─────┼────────────── 1 │ 4 9 2 │ 5 2 3 │ 6 8 4 │ 8 8 mean and median julia R\"mean(x)\" RObject{RealSxp} [1] 3.625 julia mean(x) 3.625 julia R\"median(x)\" RObject{RealSxp} [1] 3 julia median(x) 3.0 first, last, nth The Julia equivalents are also named first and last. As for nth, one has to simply use array indexing.\nRank and Spread functions These are all available in Julia by similar names:\njulia R\"c(max(x), min(x), quantile(x, 0.25), IQR(x), mad(x), sd(x), var(x))\" RObject{RealSxp} 25% 9.000000 1.000000 2.000000 2.250000 1.482600 2.503569 6.267857 julia [maximum(x); minimum(x); quantile(x, 0.25); iqr(x); mad(x); std(x); var(x)]' 1×7 adjoint(::Vector{Float64}) with eltype Float64: 9.0 1.0 2.0 2.25 1.4826 2.50357 6.26786 Row Names Julia dataframes do not have row names by design so there is nothing to worry about here.\nCombining Tables Combining tables is really easy in Julia and is similar to how it is done in R for the most part (since both are inspired by SQL verbs).\nColumn and row binding Binding columns is done with the hcat function:\njulia R\"\"\" df1 df2 bind_cols(df1, df2) \"\"\" RObject{VecSxp} # A tibble: 3 x 4 a b c d int int int int 1 1 4 7 10 2 2 5 8 11 3 3 6 9 12 julia df1 = DataFrame(a=1:3, b=4:6); julia df2 = DataFrame(c=7:9, d=10:12); julia hcat(df1, df2) 3×4 DataFrame Row │ a b c d │ Int64 Int64 Int64 Int64 ─────┼──────────────────────────── 1 │ 1 4 7 10 2 │ 2 5 8 11 3 │ 3 6 9 12 Binding rows requires vcat:\njulia R\"\"\" df1 df2 bind_rows(df1, df2) \"\"\" RObject{VecSxp} # A tibble: 6 x 2 a b int int 1 1 4 2 2 5 3 3 6 4 7 10 5 8 11 6 9 12 julia df1 = DataFrame(a=1:3, b=4:6); julia df2 = DataFrame(a=7:9, b=10:12); julia vcat(df1, df2) 6×2 DataFrame Row │ a b │ Int64 Int64 ─────┼────────────── 1 │ 1 4 2 │ 2 5 3 │ 3 6 4 │ 7 10 5 │ 8 11 6 │ 9 12 Joins Example data taken from DataFrames.jl:\njulia df1 = DataFrame(City = [\"Amsterdam\", \"London\", \"London\", \"New York\", \"New York\"], Job = [\"Lawyer\", \"Lawyer\", \"Lawyer\", \"Doctor\", \"Doctor\"], Category = [1, 2, 3, 4, 5]); julia df2 = DataFrame(Location = [\"Amsterdam\", \"London\", \"London\", \"New York\", \"New York\"], Work = [\"Lawyer\", \"Lawyer\", \"Lawyer\", \"Doctor\", \"Doctor\"], Name = [\"a\", \"b\", \"c\", \"d\", \"e\"]); julia innerjoin(df1, df2, on = [:City = :Location, :Job = :Work]) 9×4 DataFrame Row │ City Job Category Name │ String String Int64 String ─────┼───────────────────────────────────── 1 │ Amsterdam Lawyer 1 a 2 │ London Lawyer 2 b 3 │ London Lawyer 3 b 4 │ London Lawyer 2 c 5 │ London Lawyer 3 c 6 │ New York Doctor 4 d 7 │ New York Doctor 5 d 8 │ New York Doctor 4 e 9 │ New York Doctor 5 e In R, it would be:\njulia R\"\"\" df1 Job = c(\"Lawyer\", \"Lawyer\", \"Lawyer\", \"Doctor\", \"Doctor\"), Category = c(1, 2, 3, 4, 5)) df2 Work = c(\"Lawyer\", \"Lawyer\", \"Lawyer\", \"Doctor\", \"Doctor\"), Name = c(\"a\", \"b\", \"c\", \"d\", \"e\")) inner_join(df1, df2, by = c(\"City\" = \"Location\", \"Job\" = \"Work\")) \"\"\" RObject{VecSxp} # A tibble: 9 x 4 City Job Category Name chr chr dbl chr 1 Amsterdam Lawyer 1 a 2 London Lawyer 2 b 3 London Lawyer 2 c 4 London Lawyer 3 b 5 London Lawyer 3 c 6 New York Doctor 4 d 7 New York Doctor 4 e 8 New York Doctor 5 d 9 New York Doctor 5 e Set operations in R are somewhat redunant in the presence of join verbs, and so in Julia one needs to rely soley on those join verbs.\nThis concludes the dplyr cheatsheet translation to DataFrames.jl commands.\n",
  "wordCount" : "1858",
  "inLanguage": "en",
  "datePublished": "2021-11-13T00:00:00Z",
  "dateModified": "2021-11-13T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://tersetears.github.io/posts/dplyr-dataframes-part2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "TerseTears's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://tersetears.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://tersetears.github.io/" accesskey="h" title="TerseTears&#39;s Blog (Alt + H)">TerseTears&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://tersetears.github.io/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://tersetears.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://tersetears.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      dplyr Cheatsheet to DataFrames.jl Page 2
    </h1>
    <div class="post-meta">13.11.2021
</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <div class="details">Table of Contents</div>
        </summary>
        <div class="inner"><ul>
                <li>
                    <a href="#continuing-where-we-left" aria-label="Continuing Where We Left">Continuing Where We Left</a><ul>
                        
                <li>
                    <a href="#setting-up-the-data-using-rcall" aria-label="Setting up the data using RCall">Setting up the data using RCall</a></li>
                <li>
                    <a href="#vectorized-functions" aria-label="Vectorized Functions">Vectorized Functions</a><ul>
                        
                <li>
                    <a href="#lag-lead" aria-label="lag, lead"><code>lag</code>, <code>lead</code></a></li>
                <li>
                    <a href="#cumall" aria-label="cumall"><code>cumall</code></a></li>
                <li>
                    <a href="#cumany" aria-label="cumany"><code>cumany</code></a></li>
                <li>
                    <a href="#cummax" aria-label="cummax"><code>cummax</code></a></li>
                <li>
                    <a href="#rank-functions" aria-label="Rank functions">Rank functions</a></li>
                <li>
                    <a href="#between" aria-label="between"><code>between</code></a></li>
                <li>
                    <a href="#near" aria-label="near"><code>near</code></a></li>
                <li>
                    <a href="#case_when" aria-label="case_when"><code>case_when</code></a></li>
                <li>
                    <a href="#coalesce" aria-label="coalesce"><code>coalesce</code></a></li>
                <li>
                    <a href="#if_else" aria-label="if_else"><code>if_else</code></a></li>
                <li>
                    <a href="#na_if" aria-label="na_if"><code>na_if</code></a></li>
                <li>
                    <a href="#pmax-and-pmin" aria-label="pmax and pmin"><code>pmax</code> and <code>pmin</code></a></li>
                <li>
                    <a href="#recode" aria-label="recode"><code>recode</code></a></li></ul>
                </li>
                <li>
                    <a href="#summary-functions" aria-label="Summary Functions">Summary Functions</a><ul>
                        
                <li>
                    <a href="#n" aria-label="n()"><code>n()</code></a></li>
                <li>
                    <a href="#n_distinct" aria-label="n_distinct"><code>n_distinct</code></a></li>
                <li>
                    <a href="#mean-and-median" aria-label="mean and median"><code>mean</code> and <code>median</code></a></li>
                <li>
                    <a href="#first-last-nth" aria-label="first, last, nth"><code>first</code>, <code>last</code>, <code>nth</code></a></li>
                <li>
                    <a href="#rank-and-spread-functions" aria-label="Rank and Spread functions">Rank and Spread functions</a></li></ul>
                </li>
                <li>
                    <a href="#row-names" aria-label="Row Names">Row Names</a></li>
                <li>
                    <a href="#combining-tables" aria-label="Combining Tables">Combining Tables</a><ul>
                        
                <li>
                    <a href="#column-and-row-binding" aria-label="Column and row binding">Column and row binding</a></li>
                <li>
                    <a href="#joins" aria-label="Joins">Joins</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="continuing-where-we-left">Continuing Where We Left<a hidden class="anchor" aria-hidden="true" href="#continuing-where-we-left">#</a></h1>
<p>This post shows how to translate the second page of the <code>dplyr</code> cheatsheet to <code>DataFrames.jl</code> and Julia commnads.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia"><span style="color:#66d9ef">using</span> RDatasets, RCall, DataFrames, StatsBase, Statistics

<span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;library(tidyverse)&#34;</span>;
</code></pre></div><h2 id="setting-up-the-data-using-rcall">Setting up the data using RCall<a hidden class="anchor" aria-hidden="true" href="#setting-up-the-data-using-rcall">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">mpg <span style="color:#f92672">=</span> dataset(<span style="color:#e6db74">&#34;ggplot2&#34;</span>, <span style="color:#e6db74">&#34;mpg&#34;</span>);
</code></pre></div><h2 id="vectorized-functions">Vectorized Functions<a hidden class="anchor" aria-hidden="true" href="#vectorized-functions">#</a></h2>
<h3 id="lag-lead"><code>lag</code>, <code>lead</code><a hidden class="anchor" aria-hidden="true" href="#lag-lead">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       mutate(mpg, leadyear = lead(year)) %&gt;% select(year, leadyear) %&gt;% tail
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">VecSxp</span>}
<span style="color:#75715e"># A tibble: 6 x 2</span>
   year leadyear
  <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>
<span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1999</span>     <span style="color:#ae81ff">2008</span>
<span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2008</span>     <span style="color:#ae81ff">2008</span>
<span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">2008</span>     <span style="color:#ae81ff">1999</span>
<span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">1999</span>     <span style="color:#ae81ff">1999</span>
<span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">1999</span>     <span style="color:#ae81ff">2008</span>
<span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">2008</span>       NA

</code></pre></div><p>In Julia:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> transform(mpg, <span style="color:#e6db74">:Year</span> <span style="color:#f92672">=&gt;</span> (x<span style="color:#f92672">-&gt;</span>vcat(x[<span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#66d9ef">end</span>], missing)) <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">:leadYear</span>)[
           <span style="color:#f92672">:</span>, [<span style="color:#e6db74">:Year</span>, <span style="color:#e6db74">:leadYear</span>]] <span style="color:#f92672">|&gt;</span> x<span style="color:#f92672">-&gt;</span>last(x, <span style="color:#ae81ff">10</span>)
<span style="color:#ae81ff">10</span><span style="color:#f92672">×</span><span style="color:#ae81ff">2</span> DataFrame
 Row │ Year   leadYear
     │ <span style="color:#66d9ef">Int32</span>  <span style="color:#66d9ef">Int32</span><span style="color:#f92672">?</span>
─────┼─────────────────
   <span style="color:#ae81ff">1</span> │  <span style="color:#ae81ff">1999</span>      <span style="color:#ae81ff">2008</span>
   <span style="color:#ae81ff">2</span> │  <span style="color:#ae81ff">2008</span>      <span style="color:#ae81ff">2008</span>
   <span style="color:#ae81ff">3</span> │  <span style="color:#ae81ff">2008</span>      <span style="color:#ae81ff">1999</span>
   <span style="color:#ae81ff">4</span> │  <span style="color:#ae81ff">1999</span>      <span style="color:#ae81ff">1999</span>
   <span style="color:#ae81ff">5</span> │  <span style="color:#ae81ff">1999</span>      <span style="color:#ae81ff">2008</span>
   <span style="color:#ae81ff">6</span> │  <span style="color:#ae81ff">2008</span>      <span style="color:#ae81ff">2008</span>
   <span style="color:#ae81ff">7</span> │  <span style="color:#ae81ff">2008</span>      <span style="color:#ae81ff">1999</span>
   <span style="color:#ae81ff">8</span> │  <span style="color:#ae81ff">1999</span>      <span style="color:#ae81ff">1999</span>
   <span style="color:#ae81ff">9</span> │  <span style="color:#ae81ff">1999</span>      <span style="color:#ae81ff">2008</span>
  <span style="color:#ae81ff">10</span> │  <span style="color:#ae81ff">2008</span>   missing
</code></pre></div><p>Note that one needs to wrap the anonymous function inside parentheses to avoid mixing with the <code>=&gt;</code> operator.</p>
<h3 id="cumall"><code>cumall</code><a hidden class="anchor" aria-hidden="true" href="#cumall">#</a></h3>
<p>This function returns always false from the first false value it sees. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       x &lt;- c(1, 3, 5, 9, 4, 3, 2, 2)
</span><span style="color:#e6db74">       cumall(x &lt; 6)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">LglSxp</span>}
[<span style="color:#ae81ff">1</span>]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE

</code></pre></div><p>This is just a commulative product for logical values:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> x <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>];

julia<span style="color:#f92672">&gt;</span> cumprod(x <span style="color:#f92672">.&lt;</span> <span style="color:#ae81ff">6</span>)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">BitVector</span>) with eltype <span style="color:#66d9ef">Bool</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>
</code></pre></div><h3 id="cumany"><code>cumany</code><a hidden class="anchor" aria-hidden="true" href="#cumany">#</a></h3>
<p>This one returns true from the first true it sees:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       cumany(x &gt; 6)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">LglSxp</span>}
[<span style="color:#ae81ff">1</span>] FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE

</code></pre></div><p>It would be equivalent to a logical sum:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> cumsum(x <span style="color:#f92672">.&gt;</span> <span style="color:#ae81ff">6</span>)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Int64</span>}) with eltype <span style="color:#66d9ef">Int64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>
</code></pre></div><h3 id="cummax"><code>cummax</code><a hidden class="anchor" aria-hidden="true" href="#cummax">#</a></h3>
<p>This just takes binary comparisons between the present element and its previous element:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;cummax(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">9</span>

</code></pre></div><p>It is easy with the more general function <code>accumulate</code> in Julia:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> accumulate(max, x)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Int64</span>}) with eltype <span style="color:#66d9ef">Int64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">9</span>
</code></pre></div><p>One could have in fact used this function with the previous examples as well by writing the appropriate anonymous function. Other functions such as <code>mean</code>, <code>max</code> etc. follow the same rule.</p>
<h3 id="rank-functions">Rank functions<a hidden class="anchor" aria-hidden="true" href="#rank-functions">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;cume_dist(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">0.125</span> <span style="color:#ae81ff">0.625</span> <span style="color:#ae81ff">0.875</span> <span style="color:#ae81ff">1.000</span> <span style="color:#ae81ff">0.750</span> <span style="color:#ae81ff">0.625</span> <span style="color:#ae81ff">0.375</span> <span style="color:#ae81ff">0.375</span>

</code></pre></div><p>It is just the values of the empirical cdf:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> ecdf(x)(x)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Float64</span>}) with eltype <span style="color:#66d9ef">Float64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">0.125</span>  <span style="color:#ae81ff">0.625</span>  <span style="color:#ae81ff">0.875</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">0.75</span>  <span style="color:#ae81ff">0.625</span>  <span style="color:#ae81ff">0.375</span>  <span style="color:#ae81ff">0.375</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;dense_rank(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">IntSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> denserank(x)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Int64</span>}) with eltype <span style="color:#66d9ef">Int64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;min_rank(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">IntSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span>

</code></pre></div><p>Julia equivalent is the <code>competerank</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> competerank(x)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Int64</span>}) with eltype <span style="color:#66d9ef">Int64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2</span>
</code></pre></div><p>TODO The <code>dplyr</code> <code>ntile</code> function seems rather unstandard and so the results differ from Julia:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;ntile(x, 3)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">IntSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> searchsortedfirst<span style="color:#f92672">.</span>(<span style="color:#66d9ef">Ref</span>(nquantile(x,<span style="color:#ae81ff">2</span>)), x)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Int64</span>}) with eltype <span style="color:#66d9ef">Int64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2</span>
</code></pre></div><p>As for <code>percen_rank</code> it is just a normalization to the 0-1 interval, hence requires subtracting 1 first:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;percent_rank(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">0.0000000</span> <span style="color:#ae81ff">0.4285714</span> <span style="color:#ae81ff">0.8571429</span> <span style="color:#ae81ff">1.0000000</span> <span style="color:#ae81ff">0.7142857</span> <span style="color:#ae81ff">0.4285714</span> <span style="color:#ae81ff">0.1428571</span>
[<span style="color:#ae81ff">8</span>] <span style="color:#ae81ff">0.1428571</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> ((competerank(x)<span style="color:#f92672">.-</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">/</span>(length(x)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>))<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Float64</span>}) with eltype <span style="color:#66d9ef">Float64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.428571</span>  <span style="color:#ae81ff">0.857143</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">0.714286</span>  <span style="color:#ae81ff">0.428571</span>  <span style="color:#ae81ff">0.142857</span>  <span style="color:#ae81ff">0.142857</span>
</code></pre></div><p>As for <code>row_number</code> rank:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;row_number(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">IntSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> ordinalrank(x)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Int64</span>}) with eltype <span style="color:#66d9ef">Int64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>
</code></pre></div><h3 id="between"><code>between</code><a hidden class="anchor" aria-hidden="true" href="#between">#</a></h3>
<p>Julia simply understands the between notion in a mathematical notation:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;between(x, 3, 6)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">LglSxp</span>}
[<span style="color:#ae81ff">1</span>] FALSE  TRUE  TRUE FALSE  TRUE  TRUE FALSE FALSE

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> (<span style="color:#ae81ff">3</span> <span style="color:#f92672">.&lt;=</span> x <span style="color:#f92672">.&lt;=</span> <span style="color:#ae81ff">6</span>)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">BitVector</span>) with eltype <span style="color:#66d9ef">Bool</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>
</code></pre></div><h3 id="near"><code>near</code><a hidden class="anchor" aria-hidden="true" href="#near">#</a></h3>
<p>Use the approximate notation (or the <code>isapprox</code> function):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;near(2, 1.9999999999)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">LglSxp</span>}
[<span style="color:#ae81ff">1</span>] TRUE

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">≈</span> <span style="color:#ae81ff">1.9999999999</span>
true
</code></pre></div><h3 id="case_when"><code>case_when</code><a hidden class="anchor" aria-hidden="true" href="#case_when">#</a></h3>
<p>Julia doesn&rsquo;t have a syntax for cases yet. The shortest equivalent that comes to mind is as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       case_when(x &gt; 3 &amp; x &lt; 5 ~ &#34;medium&#34;,
</span><span style="color:#e6db74">                 x &lt;= 3 ~ &#34;small&#34;,
</span><span style="color:#e6db74">                 x &gt;= 5 ~ &#34;large&#34;,
</span><span style="color:#e6db74">                 TRUE ~ &#34;unknown&#34;)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">StrSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#e6db74">&#34;small&#34;</span>  <span style="color:#e6db74">&#34;small&#34;</span>  <span style="color:#e6db74">&#34;large&#34;</span>  <span style="color:#e6db74">&#34;large&#34;</span>  <span style="color:#e6db74">&#34;medium&#34;</span> <span style="color:#e6db74">&#34;small&#34;</span>  <span style="color:#e6db74">&#34;small&#34;</span>  <span style="color:#e6db74">&#34;small&#34;</span> 

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> map(x) <span style="color:#66d9ef">do</span> x_
           <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">3</span> <span style="color:#f92672">&lt;</span> x_ <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>) <span style="color:#e6db74">&#34;medium&#34;</span>
           <span style="color:#66d9ef">elseif</span> (x_ <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">3</span>) <span style="color:#e6db74">&#34;small&#34;</span>
           <span style="color:#66d9ef">elseif</span> (<span style="color:#ae81ff">5</span> <span style="color:#f92672">&lt;=</span> x_) <span style="color:#e6db74">&#34;large&#34;</span>
           <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;unknown&#34;</span>
           <span style="color:#66d9ef">end</span>
       <span style="color:#66d9ef">end</span>
<span style="color:#ae81ff">8</span><span style="color:#f92672">-</span>element <span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">String</span>}<span style="color:#f92672">:</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;large&#34;</span>
 <span style="color:#e6db74">&#34;large&#34;</span>
 <span style="color:#e6db74">&#34;medium&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
</code></pre></div><h3 id="coalesce"><code>coalesce</code><a hidden class="anchor" aria-hidden="true" href="#coalesce">#</a></h3>
<p>Both functions are inspired by the SQL command and so work nearly identically:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       y &lt;- c(NA, 2, 5, NA, 6)
</span><span style="color:#e6db74">       z &lt;- c(3, 7, NA, 9, 4)
</span><span style="color:#e6db74">       coalesce(y,z)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">6</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> y <span style="color:#f92672">=</span> [missing, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>, missing, <span style="color:#ae81ff">6</span>];

julia<span style="color:#f92672">&gt;</span> z <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">7</span>, missing, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">4</span>];

julia<span style="color:#f92672">&gt;</span> coalesce<span style="color:#f92672">.</span>(y, z)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">5</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Int64</span>}) with eltype <span style="color:#66d9ef">Int64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">6</span>
</code></pre></div><p>It is important to note that vectorizing coalesce (i.e. the dot) is necessary. Otherwise, since the <code>y</code> <em>vector</em> isn&rsquo;t missing, nothing happens.</p>
<h3 id="if_else"><code>if_else</code><a hidden class="anchor" aria-hidden="true" href="#if_else">#</a></h3>
<p>The julia equivalent is the vectorized <code>ifelse</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       if_else(x &gt; 3, &#34;large&#34;, &#34;small&#34;)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">StrSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#e6db74">&#34;small&#34;</span> <span style="color:#e6db74">&#34;small&#34;</span> <span style="color:#e6db74">&#34;large&#34;</span> <span style="color:#e6db74">&#34;large&#34;</span> <span style="color:#e6db74">&#34;large&#34;</span> <span style="color:#e6db74">&#34;small&#34;</span> <span style="color:#e6db74">&#34;small&#34;</span> <span style="color:#e6db74">&#34;small&#34;</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> ifelse<span style="color:#f92672">.</span>(x <span style="color:#f92672">.&gt;</span> <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;large&#34;</span>, <span style="color:#e6db74">&#34;small&#34;</span>)
<span style="color:#ae81ff">8</span><span style="color:#f92672">-</span>element <span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">String</span>}<span style="color:#f92672">:</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;large&#34;</span>
 <span style="color:#e6db74">&#34;large&#34;</span>
 <span style="color:#e6db74">&#34;large&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
 <span style="color:#e6db74">&#34;small&#34;</span>
</code></pre></div><h3 id="na_if"><code>na_if</code><a hidden class="anchor" aria-hidden="true" href="#na_if">#</a></h3>
<p>Simply use the more general functions in Julia:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;na_if(x, 9)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>]  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">5</span> NA  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> replace(x, <span style="color:#ae81ff">9</span><span style="color:#f92672">=&gt;</span>missing)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">8</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Union</span>{<span style="color:#66d9ef">Missing</span>, <span style="color:#66d9ef">Int64</span>}}) with eltype <span style="color:#66d9ef">Union</span>{<span style="color:#66d9ef">Missing</span>, <span style="color:#66d9ef">Int64</span>}<span style="color:#f92672">:</span>
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">5</span>  missing  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2</span>
</code></pre></div><h3 id="pmax-and-pmin"><code>pmax</code> and <code>pmin</code><a hidden class="anchor" aria-hidden="true" href="#pmax-and-pmin">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;pmax(y,z)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>] NA  <span style="color:#ae81ff">7</span> NA NA  <span style="color:#ae81ff">6</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> max<span style="color:#f92672">.</span>(y,z)<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">5</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Union</span>{<span style="color:#66d9ef">Missing</span>, <span style="color:#66d9ef">Int64</span>}}) with eltype <span style="color:#66d9ef">Union</span>{<span style="color:#66d9ef">Missing</span>, <span style="color:#66d9ef">Int64</span>}<span style="color:#f92672">:</span>
 missing  <span style="color:#ae81ff">7</span>  missing  missing  <span style="color:#ae81ff">6</span>
</code></pre></div><h3 id="recode"><code>recode</code><a hidden class="anchor" aria-hidden="true" href="#recode">#</a></h3>
<p>Again, simply using the more general function <code>replace</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       cvec &lt;- c(&#34;a&#34;, &#34;b&#34;, &#34;a&#34;, &#34;c&#34;, &#34;b&#34;, &#34;a&#34;, &#34;c&#34;)
</span><span style="color:#e6db74">       recode(cvec, a = &#34;apple&#34;)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">StrSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#e6db74">&#34;apple&#34;</span> <span style="color:#e6db74">&#34;b&#34;</span>     <span style="color:#e6db74">&#34;apple&#34;</span> <span style="color:#e6db74">&#34;c&#34;</span>     <span style="color:#e6db74">&#34;b&#34;</span>     <span style="color:#e6db74">&#34;apple&#34;</span> <span style="color:#e6db74">&#34;c&#34;</span>    

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> cvec <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>];

julia<span style="color:#f92672">&gt;</span> replace(cvec, <span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">=&gt;</span><span style="color:#e6db74">&#34;apple&#34;</span>)
<span style="color:#ae81ff">7</span><span style="color:#f92672">-</span>element <span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">String</span>}<span style="color:#f92672">:</span>
 <span style="color:#e6db74">&#34;apple&#34;</span>
 <span style="color:#e6db74">&#34;b&#34;</span>
 <span style="color:#e6db74">&#34;apple&#34;</span>
 <span style="color:#e6db74">&#34;c&#34;</span>
 <span style="color:#e6db74">&#34;b&#34;</span>
 <span style="color:#e6db74">&#34;apple&#34;</span>
 <span style="color:#e6db74">&#34;c&#34;</span>
</code></pre></div><h2 id="summary-functions">Summary Functions<a hidden class="anchor" aria-hidden="true" href="#summary-functions">#</a></h2>
<p>Back to dataframes where summary functions are better illustrated.</p>
<h3 id="n"><code>n()</code><a hidden class="anchor" aria-hidden="true" href="#n">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;mpg %&gt;</span><span style="color:#e6db74">% g</span><span style="color:#e6db74">roup_by(cyl) %&gt;</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ummarise(n=n())&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">VecSxp</span>}
<span style="color:#75715e"># A tibble: 4 x 2</span>
    cyl     n
  <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>
<span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">81</span>
<span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">5</span>     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">3</span>     <span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">79</span>
<span style="color:#ae81ff">4</span>     <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">70</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> groupby(mpg, <span style="color:#e6db74">:Cyl</span>) <span style="color:#f92672">|&gt;</span> x<span style="color:#f92672">-&gt;</span>combine(x, nrow)
<span style="color:#ae81ff">4</span><span style="color:#f92672">×</span><span style="color:#ae81ff">2</span> DataFrame
 Row │ Cyl    nrow
     │ <span style="color:#66d9ef">Int32</span>  <span style="color:#66d9ef">Int64</span>
─────┼──────────────
   <span style="color:#ae81ff">1</span> │     <span style="color:#ae81ff">4</span>     <span style="color:#ae81ff">81</span>
   <span style="color:#ae81ff">2</span> │     <span style="color:#ae81ff">5</span>      <span style="color:#ae81ff">4</span>
   <span style="color:#ae81ff">3</span> │     <span style="color:#ae81ff">6</span>     <span style="color:#ae81ff">79</span>
   <span style="color:#ae81ff">4</span> │     <span style="color:#ae81ff">8</span>     <span style="color:#ae81ff">70</span>
</code></pre></div><h3 id="n_distinct"><code>n_distinct</code><a hidden class="anchor" aria-hidden="true" href="#n_distinct">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;mpg %&gt;</span><span style="color:#e6db74">% g</span><span style="color:#e6db74">roup_by(cyl) %&gt;</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ummarise(trans=n_distinct(trans))&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">VecSxp</span>}
<span style="color:#75715e"># A tibble: 4 x 2</span>
    cyl trans
  <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>
<span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">4</span>     <span style="color:#ae81ff">9</span>
<span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">5</span>     <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">3</span>     <span style="color:#ae81ff">6</span>     <span style="color:#ae81ff">8</span>
<span style="color:#ae81ff">4</span>     <span style="color:#ae81ff">8</span>     <span style="color:#ae81ff">8</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> groupby(mpg, <span style="color:#e6db74">:Cyl</span>) <span style="color:#f92672">|&gt;</span> x<span style="color:#f92672">-&gt;</span>combine(x, <span style="color:#e6db74">:Trans</span> <span style="color:#f92672">=&gt;</span> 
           (x_<span style="color:#f92672">-&gt;</span>length(unique(x_))) <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">:Trans</span>)
<span style="color:#ae81ff">4</span><span style="color:#f92672">×</span><span style="color:#ae81ff">2</span> DataFrame
 Row │ Cyl    Trans
     │ <span style="color:#66d9ef">Int32</span>  <span style="color:#66d9ef">Int64</span>
─────┼──────────────
   <span style="color:#ae81ff">1</span> │     <span style="color:#ae81ff">4</span>      <span style="color:#ae81ff">9</span>
   <span style="color:#ae81ff">2</span> │     <span style="color:#ae81ff">5</span>      <span style="color:#ae81ff">2</span>
   <span style="color:#ae81ff">3</span> │     <span style="color:#ae81ff">6</span>      <span style="color:#ae81ff">8</span>
   <span style="color:#ae81ff">4</span> │     <span style="color:#ae81ff">8</span>      <span style="color:#ae81ff">8</span>
</code></pre></div><p>Alternatively, one could just composition the two inner functions instead (use \circ to write the operator):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> groupby(mpg, <span style="color:#e6db74">:Cyl</span>) <span style="color:#f92672">|&gt;</span> x<span style="color:#f92672">-&gt;</span>combine(x, <span style="color:#e6db74">:Trans</span> <span style="color:#f92672">=&gt;</span> length <span style="color:#f92672">∘</span> unique <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">:Trans</span>)
<span style="color:#ae81ff">4</span><span style="color:#f92672">×</span><span style="color:#ae81ff">2</span> DataFrame
 Row │ Cyl    Trans
     │ <span style="color:#66d9ef">Int32</span>  <span style="color:#66d9ef">Int64</span>
─────┼──────────────
   <span style="color:#ae81ff">1</span> │     <span style="color:#ae81ff">4</span>      <span style="color:#ae81ff">9</span>
   <span style="color:#ae81ff">2</span> │     <span style="color:#ae81ff">5</span>      <span style="color:#ae81ff">2</span>
   <span style="color:#ae81ff">3</span> │     <span style="color:#ae81ff">6</span>      <span style="color:#ae81ff">8</span>
   <span style="color:#ae81ff">4</span> │     <span style="color:#ae81ff">8</span>      <span style="color:#ae81ff">8</span>
</code></pre></div><h3 id="mean-and-median"><code>mean</code> and <code>median</code><a hidden class="anchor" aria-hidden="true" href="#mean-and-median">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;mean(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">3.625</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> mean(x)
<span style="color:#ae81ff">3.625</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;median(x)&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
[<span style="color:#ae81ff">1</span>] <span style="color:#ae81ff">3</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> median(x)
<span style="color:#ae81ff">3.0</span>
</code></pre></div><h3 id="first-last-nth"><code>first</code>, <code>last</code>, <code>nth</code><a hidden class="anchor" aria-hidden="true" href="#first-last-nth">#</a></h3>
<p>The Julia equivalents are also named first and last. As for <code>nth</code>, one has to simply use array indexing.</p>
<h3 id="rank-and-spread-functions">Rank and Spread functions<a hidden class="anchor" aria-hidden="true" href="#rank-and-spread-functions">#</a></h3>
<p>These are all available in Julia by similar names:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;c(max(x), min(x), quantile(x, 0.25), IQR(x), mad(x), sd(x), var(x))&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">RealSxp</span>}
                       <span style="color:#ae81ff">25</span><span style="color:#f92672">%</span>                                     
<span style="color:#ae81ff">9.000000</span> <span style="color:#ae81ff">1.000000</span> <span style="color:#ae81ff">2.000000</span> <span style="color:#ae81ff">2.250000</span> <span style="color:#ae81ff">1.482600</span> <span style="color:#ae81ff">2.503569</span> <span style="color:#ae81ff">6.267857</span> 

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> [maximum(x); minimum(x); quantile(x, <span style="color:#ae81ff">0.25</span>); iqr(x); mad(x); std(x); var(x)]<span style="color:#f92672">&#39;</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">×</span><span style="color:#ae81ff">7</span> adjoint(<span style="color:#f92672">::</span><span style="color:#66d9ef">Vector</span>{<span style="color:#66d9ef">Float64</span>}) with eltype <span style="color:#66d9ef">Float64</span><span style="color:#f92672">:</span>
 <span style="color:#ae81ff">9.0</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">2.0</span>  <span style="color:#ae81ff">2.25</span>  <span style="color:#ae81ff">1.4826</span>  <span style="color:#ae81ff">2.50357</span>  <span style="color:#ae81ff">6.26786</span>
</code></pre></div><h2 id="row-names">Row Names<a hidden class="anchor" aria-hidden="true" href="#row-names">#</a></h2>
<p>Julia dataframes do not have row names by design so there is nothing to worry about here.</p>
<h2 id="combining-tables">Combining Tables<a hidden class="anchor" aria-hidden="true" href="#combining-tables">#</a></h2>
<p>Combining tables is really easy in Julia and is similar to how it is done in R for the most part (since both are inspired by SQL verbs).</p>
<h3 id="column-and-row-binding">Column and row binding<a hidden class="anchor" aria-hidden="true" href="#column-and-row-binding">#</a></h3>
<p>Binding columns is done with the <code>hcat</code> function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       df1 &lt;- tibble(a = 1:3, b = 4:6)
</span><span style="color:#e6db74">       df2 &lt;- tibble(c = 7:9, d = 10:12)
</span><span style="color:#e6db74">       bind_cols(df1, df2)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">VecSxp</span>}
<span style="color:#75715e"># A tibble: 3 x 4</span>
      a     b     c     d
  <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>
<span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">4</span>     <span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">10</span>
<span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">5</span>     <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">11</span>
<span style="color:#ae81ff">3</span>     <span style="color:#ae81ff">3</span>     <span style="color:#ae81ff">6</span>     <span style="color:#ae81ff">9</span>    <span style="color:#ae81ff">12</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> df1 <span style="color:#f92672">=</span> DataFrame(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>, b<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>);

julia<span style="color:#f92672">&gt;</span> df2 <span style="color:#f92672">=</span> DataFrame(c<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span>, d<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span><span style="color:#ae81ff">12</span>);

julia<span style="color:#f92672">&gt;</span> hcat(df1, df2)
<span style="color:#ae81ff">3</span><span style="color:#f92672">×</span><span style="color:#ae81ff">4</span> DataFrame
 Row │ a      b      c      d
     │ <span style="color:#66d9ef">Int64</span>  <span style="color:#66d9ef">Int64</span>  <span style="color:#66d9ef">Int64</span>  <span style="color:#66d9ef">Int64</span>
─────┼────────────────────────────
   <span style="color:#ae81ff">1</span> │     <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">4</span>      <span style="color:#ae81ff">7</span>     <span style="color:#ae81ff">10</span>
   <span style="color:#ae81ff">2</span> │     <span style="color:#ae81ff">2</span>      <span style="color:#ae81ff">5</span>      <span style="color:#ae81ff">8</span>     <span style="color:#ae81ff">11</span>
   <span style="color:#ae81ff">3</span> │     <span style="color:#ae81ff">3</span>      <span style="color:#ae81ff">6</span>      <span style="color:#ae81ff">9</span>     <span style="color:#ae81ff">12</span>
</code></pre></div><p>Binding rows requires vcat:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       df1 &lt;- tibble(a = 1:3, b = 4:6)
</span><span style="color:#e6db74">       df2 &lt;- tibble(a = 7:9, b = 10:12)
</span><span style="color:#e6db74">       bind_rows(df1, df2)
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">VecSxp</span>}
<span style="color:#75715e"># A tibble: 6 x 2</span>
      a     b
  <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>
<span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">5</span>
<span style="color:#ae81ff">3</span>     <span style="color:#ae81ff">3</span>     <span style="color:#ae81ff">6</span>
<span style="color:#ae81ff">4</span>     <span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">10</span>
<span style="color:#ae81ff">5</span>     <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">11</span>
<span style="color:#ae81ff">6</span>     <span style="color:#ae81ff">9</span>    <span style="color:#ae81ff">12</span>

</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> df1 <span style="color:#f92672">=</span> DataFrame(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>, b<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>);

julia<span style="color:#f92672">&gt;</span> df2 <span style="color:#f92672">=</span> DataFrame(a<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span>, b<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span><span style="color:#ae81ff">12</span>);

julia<span style="color:#f92672">&gt;</span> vcat(df1, df2)
<span style="color:#ae81ff">6</span><span style="color:#f92672">×</span><span style="color:#ae81ff">2</span> DataFrame
 Row │ a      b
     │ <span style="color:#66d9ef">Int64</span>  <span style="color:#66d9ef">Int64</span>
─────┼──────────────
   <span style="color:#ae81ff">1</span> │     <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">4</span>
   <span style="color:#ae81ff">2</span> │     <span style="color:#ae81ff">2</span>      <span style="color:#ae81ff">5</span>
   <span style="color:#ae81ff">3</span> │     <span style="color:#ae81ff">3</span>      <span style="color:#ae81ff">6</span>
   <span style="color:#ae81ff">4</span> │     <span style="color:#ae81ff">7</span>     <span style="color:#ae81ff">10</span>
   <span style="color:#ae81ff">5</span> │     <span style="color:#ae81ff">8</span>     <span style="color:#ae81ff">11</span>
   <span style="color:#ae81ff">6</span> │     <span style="color:#ae81ff">9</span>     <span style="color:#ae81ff">12</span>
</code></pre></div><h3 id="joins">Joins<a hidden class="anchor" aria-hidden="true" href="#joins">#</a></h3>
<p>Example data taken from <code>DataFrames.jl</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> df1 <span style="color:#f92672">=</span> DataFrame(City <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Amsterdam&#34;</span>, <span style="color:#e6db74">&#34;London&#34;</span>, <span style="color:#e6db74">&#34;London&#34;</span>, <span style="color:#e6db74">&#34;New York&#34;</span>, <span style="color:#e6db74">&#34;New York&#34;</span>],
                            Job <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Lawyer&#34;</span>, <span style="color:#e6db74">&#34;Lawyer&#34;</span>, <span style="color:#e6db74">&#34;Lawyer&#34;</span>, <span style="color:#e6db74">&#34;Doctor&#34;</span>, <span style="color:#e6db74">&#34;Doctor&#34;</span>],
                            Category <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]);

julia<span style="color:#f92672">&gt;</span> df2 <span style="color:#f92672">=</span> DataFrame(Location <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Amsterdam&#34;</span>, <span style="color:#e6db74">&#34;London&#34;</span>, <span style="color:#e6db74">&#34;London&#34;</span>, <span style="color:#e6db74">&#34;New York&#34;</span>, <span style="color:#e6db74">&#34;New York&#34;</span>],
                            Work <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Lawyer&#34;</span>, <span style="color:#e6db74">&#34;Lawyer&#34;</span>, <span style="color:#e6db74">&#34;Lawyer&#34;</span>, <span style="color:#e6db74">&#34;Doctor&#34;</span>, <span style="color:#e6db74">&#34;Doctor&#34;</span>],
                            Name <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span>]);

julia<span style="color:#f92672">&gt;</span> innerjoin(df1, df2, on <span style="color:#f92672">=</span> [<span style="color:#e6db74">:City</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">:Location</span>, <span style="color:#e6db74">:Job</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">:Work</span>])
<span style="color:#ae81ff">9</span><span style="color:#f92672">×</span><span style="color:#ae81ff">4</span> DataFrame
 Row │ City       Job     Category  Name
     │ <span style="color:#66d9ef">String</span>     <span style="color:#66d9ef">String</span>  <span style="color:#66d9ef">Int64</span>     <span style="color:#66d9ef">String</span>
─────┼─────────────────────────────────────
   <span style="color:#ae81ff">1</span> │ Amsterdam  Lawyer         <span style="color:#ae81ff">1</span>  a
   <span style="color:#ae81ff">2</span> │ London     Lawyer         <span style="color:#ae81ff">2</span>  b
   <span style="color:#ae81ff">3</span> │ London     Lawyer         <span style="color:#ae81ff">3</span>  b
   <span style="color:#ae81ff">4</span> │ London     Lawyer         <span style="color:#ae81ff">2</span>  c
   <span style="color:#ae81ff">5</span> │ London     Lawyer         <span style="color:#ae81ff">3</span>  c
   <span style="color:#ae81ff">6</span> │ New York   Doctor         <span style="color:#ae81ff">4</span>  d
   <span style="color:#ae81ff">7</span> │ New York   Doctor         <span style="color:#ae81ff">5</span>  d
   <span style="color:#ae81ff">8</span> │ New York   Doctor         <span style="color:#ae81ff">4</span>  e
   <span style="color:#ae81ff">9</span> │ New York   Doctor         <span style="color:#ae81ff">5</span>  e
</code></pre></div><p>In R, it would be:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">julia<span style="color:#f92672">&gt;</span> <span style="color:#e6db74">R</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">       df1 &lt;- tibble(City = c(&#34;Amsterdam&#34;, &#34;London&#34;, &#34;London&#34;, &#34;New York&#34;, &#34;New York&#34;),
</span><span style="color:#e6db74">                            Job = c(&#34;Lawyer&#34;, &#34;Lawyer&#34;, &#34;Lawyer&#34;, &#34;Doctor&#34;, &#34;Doctor&#34;),
</span><span style="color:#e6db74">                            Category = c(1, 2, 3, 4, 5))
</span><span style="color:#e6db74">       df2 &lt;- tibble(Location = c(&#34;Amsterdam&#34;, &#34;London&#34;, &#34;London&#34;, &#34;New York&#34;, &#34;New York&#34;),
</span><span style="color:#e6db74">                            Work = c(&#34;Lawyer&#34;, &#34;Lawyer&#34;, &#34;Lawyer&#34;, &#34;Doctor&#34;, &#34;Doctor&#34;),
</span><span style="color:#e6db74">                            Name = c(&#34;a&#34;, &#34;b&#34;, &#34;c&#34;, &#34;d&#34;, &#34;e&#34;))
</span><span style="color:#e6db74">       inner_join(df1, df2, by = c(&#34;City&#34; = &#34;Location&#34;, &#34;Job&#34; = &#34;Work&#34;))
</span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
<span style="color:#66d9ef">RObject</span>{<span style="color:#66d9ef">VecSxp</span>}
<span style="color:#75715e"># A tibble: 9 x 4</span>
  City      Job    Category Name 
  <span style="color:#f92672">&lt;</span>chr<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">&lt;</span>chr<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">&lt;</span>dbl<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>chr<span style="color:#f92672">&gt;</span>
<span style="color:#ae81ff">1</span> Amsterdam Lawyer        <span style="color:#ae81ff">1</span> a    
<span style="color:#ae81ff">2</span> London    Lawyer        <span style="color:#ae81ff">2</span> b    
<span style="color:#ae81ff">3</span> London    Lawyer        <span style="color:#ae81ff">2</span> c    
<span style="color:#ae81ff">4</span> London    Lawyer        <span style="color:#ae81ff">3</span> b    
<span style="color:#ae81ff">5</span> London    Lawyer        <span style="color:#ae81ff">3</span> c    
<span style="color:#ae81ff">6</span> New York  Doctor        <span style="color:#ae81ff">4</span> d    
<span style="color:#ae81ff">7</span> New York  Doctor        <span style="color:#ae81ff">4</span> e    
<span style="color:#ae81ff">8</span> New York  Doctor        <span style="color:#ae81ff">5</span> d    
<span style="color:#ae81ff">9</span> New York  Doctor        <span style="color:#ae81ff">5</span> e    

</code></pre></div><p>Set operations in R are somewhat redunant in the presence of join verbs, and so in Julia one needs to rely soley on those join verbs.</p>
<p>This concludes the <code>dplyr</code> cheatsheet translation to <code>DataFrames.jl</code> commands.</p>


  </div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://tersetears.github.io/tags/julia/">julia</a></li>
      <li><a href="http://tersetears.github.io/tags/r/">R</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://tersetears.github.io/posts/upcoming/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Upcoming Blog Posts</span>
  </a>
  <a class="next" href="http://tersetears.github.io/posts/dplyr-dataframes/">
    <span class="title">Next Page »</span>
    <br>
    <span>dplyr Cheatsheet to DataFrames.jl Page 1</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="http://tersetears.github.io/">TerseTears&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
